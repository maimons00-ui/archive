## דוח סיכום EDA לנתוני הגנים

### מבנה התיקייה

- **`eda/eda_analysis.py`**  
  סקריפט פייתון שמבצע ניתוח נתונים (EDA) על הקבצים:
  - `train.csv`
  - `validation.csv`
  - `test.csv`
  
  ומייצר:
  - קובץ סיכום JSON: `eda/eda_summary.json`
  - ויזואליזציות כקובצי SVG בתיקייה `eda/figures/`.

> להרצה מקומית: יש לוודא שיש לך פייתון עם ספריית `pandas` מותקנת, ואז להריץ:
> ```bash
> python eda/eda_analysis.py
> ```
> (או `py eda/eda_analysis.py` בהתאם לסביבת העבודה שלך).

### הוויזואליזציות שנוצרות (או ייווצרו לאחר הרצה)

בתיקיית `eda/figures` יופיעו קבצי SVG כמו:

- **`train_gene_type_distribution.svg`**  
  תרשים עמודות של התפלגות סוגי הגנים (`GeneType`) בסט האימון.

- **`validation_gene_type_distribution.svg`**, **`test_gene_type_distribution.svg`**  
  השוואה של התפלגות סוגי הגנים בסטי הולידציה והטסט.

- **`train_sequence_length_hist.svg`**  
  היסטוגרמה של אורכי רצפי הנוקלאוטידים (`NucleotideSequence`) בסט האימון.

- **`validation_sequence_length_hist.svg`**, **`test_sequence_length_hist.svg`**  
  היסטוגרמות אורכי רצפים בסטי הולידציה והטסט.

### מבנה המשתנים (Features) והתיוג (Label)

בקובצי ה-CSV קיימות העמודות הבאות:

- **`NCBIGeneID`** – מזהה מספרי של הגן (ID טכני, לא פיצ'ר ביולוגי).  
- **`Symbol`** – סמל/שם הגן (טקסט קטגוריאלי, בעל הרבה ערכים שונים).  
- **`Description`** – תיאור מילולי של הגן, לעיתים כולל רמז ישיר לסוג הגן (למשל "pseudogene").  
- **`GeneType`** – **עמודת התיוג (label)**: סוג הגן, למשל `PROTEIN_CODING`, `PSEUDO`, `BIOLOGICAL_REGION`, `snoRNA`, `ncRNA`, `OTHER`.  
- **`GeneGroupMethod`** – שיטת קיבוץ/מקור (למשל `NCBI Ortholog`), לרוב כמעט קבועה.  
- **`NucleotideSequence`** – רצף הנוקלאוטידים של הגן, בתוך סוגריים משולשים `<ACGT...>`, ומהווה את הפיצ'ר הביולוגי העיקרי.

### מסקנות עיקריות ו"בעיות" קלאסיות בנתונים

- **תיוג (Label) והגדרת הבעיה**  
  - `GeneType` מגדיר בעיית **סיווג רב-מחלקתי** (Multi-class classification) לפי סוג הגן.  
  - הוויזואליזציות של התפלגות `GeneType` יעזרו לראות האם יש חוסר איזון חזק במחלקות (למשל עודף של `PROTEIN_CODING` לעומת מחלקות נדירות).

- **משתנים מזהים לעומת משתנים מסבירים**  
  - `NCBIGeneID`, `Symbol` ו־`Description` הם בעיקר **מזהי גן** ו/או תיאור חיצוני – הם כמעט חד-חד ערכיים לכל גן.  
  - שימוש בהם כ-features עלול לגרום למודל "לזכור" גנים במקום ללמוד דפוסים כלליים ברצף.  
  - מומלץ להתייחס אליהם כמטא-דאטה בלבד, ולהתמקד ב-`NucleotideSequence` (ואולי בפיצ'רים מחושבים ממנו).

- **דליפת מידע (Data Leakage)**  
  - לעיתים `Description` מכיל מילים שמגלות ישירות את סוג הגן (למשל "pseudogene").  
  - דוח ה-EDA נועד להדגיש שקיימת חפיפה כזו, ולכן בשלב ראשון עדיף **לא לכלול את `Description` כ-feature** במודל, כדי להימנע מדליפה.

- **מבנה הרצפים ואורכי רצף**  
  - היסטוגרמות אורכי הרצף (`*_sequence_length_hist.svg`) מראות את התפלגות אורכי הגנים.  
  - לעיתים ניתן לראות הבדלים באורך הממוצע/טווח האורכים בין סוגי גנים שונים, מה שמרמז על פיצ'רים אפשריים (למשל אורך, אחוז GC, וכדומה).

- **חוסר איזון במחלקות**  
  - דיאגרמות התפלגות `GeneType` מבליטות אם יש מחלקות נדירות במיוחד.  
  - במקרה כזה כדאי להשתמש ב:
    - **Class weights** במודל.  
    - **Oversampling / Undersampling** לסט האימון.  
    - מדדי הערכה שמתאימים לחוסר איזון (Macro-F1, Balanced Accuracy).

### המלצות המשך

- להריץ את `eda_analysis.py` בסביבה עם `pandas` ולהסתכל על:
  - קובצי ה-SVG בתיקיית `eda/figures` לקבלת אינטואיציה ויזואלית על הנתונים.  
  - הקובץ `eda/eda_summary.json` שמכיל:
    - סטטיסטיקות אורך רצף (ממוצע, סטיית תקן, מינימום/מקסימום).  
    - התפלגות `GeneType` במספרים מוחלטים.  
    - הרכב בסיסים (A/C/G/T/N) בדגימה מהרצפים.

- בעת בניית מודל:
  - להתמקד ב-`NucleotideSequence` כפיצ'ר ראשי, ולהמיר אותו לייצוג מספרי.  
  - להימנע משימוש ישיר ב־`Description` ובמזהים (`NCBIGeneID`, `Symbol`) בשלב ראשון.  
  - להשתמש בתובנות מאורך הרצפים ומהתפלגות המחלקות כדי לבחור ארכיטקטורת מודל ומדדי הערכה מתאימים.


